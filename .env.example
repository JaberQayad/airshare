# Server Configuration
PORT=3000
NODE_ENV=development
MAX_FILE_SIZE=107374182400

# WebRTC Streaming & Backpressure (Enterprise Upgrade)
# Large files (>200MB) use File System Access API streaming on supported browsers
MAX_IN_MEMORY_SIZE=209715200
# Chunk sizing - adapts based on network conditions (32KB-256KB range)
DEFAULT_CHUNK_SIZE=131072
MIN_CHUNK_SIZE=32768
MAX_CHUNK_SIZE=262144
# Backpressure thresholds - pauses/resumes sender based on DataChannel buffer
BUFFER_HIGH_WATER=1048576
BUFFER_LOW_WATER=262144

# Signaling & Room Management (Enterprise Upgrade)
# Enforce max 2 peers per room (1 sender + 1 receiver)
MAX_PEERS_PER_ROOM=2
# Rooms auto-cleanup after 30 minutes of inactivity
ROOM_TTL_MS=1800000
# Signaling messages capped at 64KB (prevents DoS)
MAX_SIGNAL_PAYLOAD_BYTES=65536

# ICE Servers for NAT traversal
ICE_SERVERS=[{"urls":"stun:stun.l.google.com:19302"}]

# UI & Branding
APP_TITLE=AirShare
THEME_COLOR=#6366f1
DONATE_URL=
TERMS_URL=
UMAMI_ID=your-umami-id-here

# Security Configuration
# TRUSTED_DOMAINS - Set when behind reverse proxy (nginx, Apache, etc.)
# Examples: 1 (trust first proxy), 2 (trust first 2 proxies), "trusted.domain.com"
# TRUSTED_DOMAINS=false

# CORS_ORIGINS - Comma-separated allowed origins, or '*' for all
# Leave unset for same-origin only (most secure)
# CORS_ORIGINS=https://example.com,https://app.example.com

# ⚠️ SECURITY NOTES:
# - Never commit .env files with real credentials to version control
# - Keep APP_TITLE under 100 characters to prevent issues
# - THEME_COLOR must be valid hex color (#RRGGBB format)
# - Validate all URLs before setting DONATE_URL and TERMS_URL
# - In production, use NODE_ENV=production
